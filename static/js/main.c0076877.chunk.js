(this["webpackJsonpreact-auth"]=this["webpackJsonpreact-auth"]||[]).push([[0],{54:function(e,t,c){},55:function(e,t,c){},60:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(26),r=c.n(s),i=c(20),l=(c(53),c(11)),o=(c(54),c(55),c(0)),j=c.n(o),d=c(4),b=c(9),u=c(25),h=c(42),O=Object(h.a)({apiKey:"AIzaSyA1hz64PAdRdLQcYH3dQEZDPENGCDRGKLI",authDomain:"loginsignup-c28c4.firebaseapp.com",projectId:"loginsignup-c28c4",storageBucket:"loginsignup-c28c4.appspot.com",messagingSenderId:"238553421599",appId:"1:238553421599:web:6bd46ba740969fd831c22a",measurementId:"G-PPPELBYV11"}),m=Object(u.c)(O),x=c(2),p=Object(a.createContext)();function v(e){var t=e.children,c=Object(a.useState)({}),n=Object(b.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){var e=Object(u.d)(m,(function(e){console.log("Auth",e),r(e)}));return function(){e()}}),[]),Object(x.jsx)(p.Provider,{value:{user:s,logIn:function(e,t){return Object(u.e)(m,e,t)},signUp:function(e,t){return Object(u.b)(m,e,t)},logOut:function(){return Object(u.g)(m)},googleSignIn:function(){var e=new u.a;return Object(u.f)(m,e)}},children:t})}function f(){return Object(a.useContext)(p)}var g=function(){var e=f().logOut,t=Object(l.g)(),c=function(){var c=Object(d.a)(j.a.mark((function c(){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,e();case 3:t("/"),c.next=9;break;case 6:c.prev=6,c.t0=c.catch(0),console.log(c.t0.message);case 9:case"end":return c.stop()}}),c,null,[[0,6]])})));return function(){return c.apply(this,arguments)}}();return Object(x.jsx)("header",{children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"inner-content",children:[Object(x.jsx)("div",{className:"brand",children:Object(x.jsx)(i.b,{to:"/home",children:"MoviesList"})}),Object(x.jsxs)("ul",{className:"nav-links",children:[Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/home",children:"Watch List"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/watched",children:"Watched"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/add",className:"btn btn-main",children:"+ Add"})}),Object(x.jsx)("li",{children:Object(x.jsx)(i.b,{to:"/",className:"btn btn-main",onclick:c,children:"LogOut"})})]})]})})})},w=c(43),N=c.n(w),y=c(22),C=c(6),S=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(C.a)(Object(C.a)({},e),{},{watchlist:[t.payload].concat(Object(y.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(C.a)(Object(C.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(C.a)(Object(C.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(y.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(C.a)(Object(C.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchlist:[t.payload].concat(Object(y.a)(e.watchlist))});case"REMOVE_FROM_WATCHED":return Object(C.a)(Object(C.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},I={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},M=Object(a.createContext)(I),_=function(e){var t=Object(a.useReducer)(S,I),c=Object(b.a)(t,2),n=c[0],s=c[1];Object(a.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(n.watchlist)),localStorage.setItem("watched",JSON.stringify(n.watched))}),[n]);return Object(x.jsx)(M.Provider,{value:{watchlist:n.watchlist,watched:n.watched,addMovieToWatchlist:function(e){s({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){s({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){s({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWatchlist:function(e){s({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){s({type:"REMOVE_FROM_WATCHED",payload:e})}},children:e.children})},E=function(e){var t=e.movie,c=Object(a.useContext)(M),n=c.addMovieToWatchlist,s=c.addMovieToWatched,r=c.watchlist,i=c.watched,l=r.find((function(e){return e.id===t.id})),o=i.find((function(e){return e.id===t.id})),j=!!l||!!o,d=!!o;return Object(x.jsxs)("div",{className:"result-card",children:[Object(x.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(x.jsx)("div",{className:"filler-poster"})}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("h3",{className:"title",children:t.title}),Object(x.jsx)("h4",{className:"release-date",children:Object(x.jsx)(N.a,{format:"YYYY",children:t.release_date})})]}),Object(x.jsxs)("div",{className:"controls",children:[Object(x.jsx)("button",{className:"btn",disabled:j,onClick:function(){return n(t)},children:"Add to Watchlist"}),Object(x.jsx)("button",{className:"btn",disabled:d,onClick:function(){return s(t)},children:"Add to Watched"})]})]})]})},k=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),r=Object(b.a)(s,2),i=r[0],l=r[1];return Object(x.jsx)("div",{className:"add-page",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsxs)("div",{className:"add-content",children:[Object(x.jsx)("div",{className:"input-wrapper",children:Object(x.jsx)("input",{type:"text",placeholder:"Search for a movie",value:c,onChange:function(e){e.preventDefault(),n(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("406d556ca1c4d33ee9dc1ab759231819","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})}),i.length>0&&Object(x.jsx)("ul",{className:"results",children:i.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)(E,{movie:e})},e.id)}))})]})})})},T=function(e){var t=e.type,c=e.movie,n=Object(a.useContext)(M),s=n.removeMovieFromWatchlist,r=n.addMovieToWatched,i=n.moveToWatchlist,l=n.removeFromWatched;return Object(x.jsxs)("div",{className:"inner-card-controls",children:["watchlist"===t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return r(c)},children:Object(x.jsx)("i",{className:"fa-fw far fa-eye"})}),Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return s(c.id)},children:Object(x.jsx)("i",{className:"fa-fw fa fa-times"})})]}),"watched"===t&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return i(c)},children:Object(x.jsx)("i",{className:"fa-fw far fa-eye-slash"})}),Object(x.jsx)("button",{className:"ctrl-btn",onClick:function(){return l(c.id)},children:Object(x.jsx)("i",{className:"fa-fw fa fa-times"})})]})]})},W=function(e){var t=e.movie,c=e.type;return Object(x.jsxs)("div",{className:"movie-card",children:[Object(x.jsx)("div",{className:"overlay"}),Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}),Object(x.jsx)(T,{type:c,movie:t})]})},A=function(){var e=Object(a.useContext)(M).watched;return Object(x.jsx)("div",{className:"movie-page",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("h1",{className:"heading",children:"Watched Movies"}),Object(x.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(x.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(x.jsx)(W,{movie:e,type:"watched"},e.id)}))}):Object(x.jsx)("h2",{className:"no-movies",children:"No movies in your list! Add some!"})]})})},D=(c(60),function(){var e=Object(a.useContext)(M).watchlist;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"movie-page",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("h1",{className:"heading",style:{color:"white"},children:"My Watchlist"}),Object(x.jsxs)("span",{className:"count-pill",children:[e.length," ",1===e.length?"Movie":"Movies"]})]}),e.length>0?Object(x.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(x.jsx)(W,{movie:e,type:"watchlist"},e.id)}))}):Object(x.jsx)("h2",{className:"no-movies",children:"No movies in your list! Add some!"})]})})})}),L=c(70),P=c(71),V=c(69),F=c(44),H=c.n(F),R=(c(65),function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(b.a)(s,2),o=r[0],u=r[1],h=Object(a.useState)(""),O=Object(b.a)(h,2),m=O[0],p=O[1],v=f(),g=v.logIn,w=v.googleSignIn,N=Object(l.g)(),y=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),p(""),e.prev=2,e.next=5,g(c,o);case 5:N("/home"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),p(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w();case 4:N("/home"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"body1",style:{backgroundColor:"#032541"},children:Object(x.jsxs)("div",{className:"p-4 box",style:{backgroundColor:"black"},children:[Object(x.jsx)("h2",{className:"mb-3",style:{color:"white"},children:"MoviesList Login"}),m&&Object(x.jsx)(L.a,{variant:"danger",children:m}),Object(x.jsxs)(P.a,{onSubmit:y,children:[Object(x.jsx)(P.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:Object(x.jsx)(P.a.Control,{type:"email",placeholder:"Email address",onChange:function(e){return n(e.target.value)}})}),Object(x.jsx)(P.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return u(e.target.value)}})}),Object(x.jsx)("div",{className:"d-grid gap-2",children:Object(x.jsx)(V.a,{variant:"primary",type:"Submit",children:"Log In"})})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{children:Object(x.jsx)(H.a,{className:"g-btn",type:"dark",onClick:C})}),Object(x.jsxs)("div",{className:"p-2 box mt-3 text-center",style:{color:"white"},children:["Don't have an account? ",Object(x.jsx)(i.b,{to:"/signup",children:"Sign up"})]})]})})}),B=(c(66),function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(b.a)(s,2),o=r[0],u=r[1],h=Object(a.useState)(""),O=Object(b.a)(h,2),m=O[0],p=O[1],v=f().signUp,g=Object(l.g)(),w=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),u(""),e.prev=2,e.next=5,v(c,m);case 5:g("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),u(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"body2",style:{backgroundColor:"#032541"},children:Object(x.jsxs)("div",{className:"p-4 box",style:{backgroundColor:"black"},children:[Object(x.jsx)("h2",{className:"mb-3",style:{color:"white"},children:"Signup"}),o&&Object(x.jsx)(L.a,{variant:"danger",children:o}),Object(x.jsxs)(P.a,{onSubmit:w,children:[Object(x.jsx)(P.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:Object(x.jsx)(P.a.Control,{type:"email",placeholder:"Email address",onChange:function(e){return n(e.target.value)}})}),Object(x.jsx)(P.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(x.jsx)(P.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return p(e.target.value)}})}),Object(x.jsx)("div",{className:"d-grid gap-2",children:Object(x.jsx)(V.a,{variant:"primary",type:"submit",children:"Sign up"})})]}),Object(x.jsxs)("div",{className:"p-3 box mt-3 text-center",style:{color:"white"},children:["Already have an account? ",Object(x.jsx)(i.b,{to:"/",children:"Log In"})]})]})})}),G=function(e){var t=e.children,c=f().user;return console.log("Check user in Private: ",c),c?t:Object(x.jsx)(l.a,{to:"/"})};var J=function(){return Object(x.jsx)(_,{children:Object(x.jsx)(v,{children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/home",element:Object(x.jsxs)(G,{children:[Object(x.jsx)(g,{}),Object(x.jsx)(D,{})]})}),Object(x.jsx)(l.b,{path:"/add",element:Object(x.jsxs)(G,{children:[Object(x.jsx)(g,{}),Object(x.jsx)(k,{})]})}),Object(x.jsx)(l.b,{path:"/watched",element:Object(x.jsxs)(G,{children:[Object(x.jsx)(g,{}),Object(x.jsx)(A,{})]})}),Object(x.jsx)(l.b,{path:"/",element:Object(x.jsx)(R,{})}),Object(x.jsx)(l.b,{path:"/signup",element:Object(x.jsx)(B,{})})]})})})};r.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(i.a,{children:Object(x.jsx)(J,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.c0076877.chunk.js.map